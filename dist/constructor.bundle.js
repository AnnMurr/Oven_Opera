(()=>{"use strict";var e={609:(e,t,r)=>{function n(e,t){sessionStorage.setItem(e,JSON.stringify(t))}function c(e){return JSON.parse(sessionStorage.getItem(e))}r.d(t,{HC:()=>n,m3:()=>c})},961:(e,t,r)=>{function n(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(e)}r.d(t,{C:()=>n})},134:(e,t,r)=>{r.d(t,{Z:()=>u});var n=r(961),c=function(e){return Number(Math.round(e+"e2")+"e-2")},o=r(609),a=document.querySelector(".cart__cost-sum"),d=document.querySelector(".order__list-total-sum"),i=document.querySelector(".checkout__total-sum");function u(){var e=((0,o.m3)("cart")||[]).reduce((function(e,t){return e+(t.size?t.price[t.size]:t.price)*(t.pieces||1)}),0);return a?a.textContent=(0,n.C)(e):i?i.textContent=(0,n.C)(e):d.textContent=(0,n.C)(e),c(e)}u()}},t={};function r(n){var c=t[n];if(void 0!==c)return c.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e=r(961),t=r(609),n={small:"€6.79",medium:"€7.89",large:"€8.99"},c={image:"https://i.imgur.com/2GTTsIW.png",ingredients:[],price:{large:null,medium:null,small:null},size:null,title:"PIZZA CONSTRUCTOR",type:"pizza",uid:1e4*Math.random()};function o(e,t){var r=document.createElement("li");return r.classList.add("card"),r.append(function(e,t){var r=document.createElement("div");return r.classList.add("card__wrapper"),r.append(function(e){var t=document.createElement("div");t.classList.add("card__name");var r=document.createElement("span");return r.textContent=e,t.append(r),t}(e),function(e,t){var r=document.createElement("div");r.classList.add("card__price");var n=document.createElement("span");return n.classList.add("card__price-text"),n.textContent=t,r.append(n),r}(0,t)),r}(e,t)),r}var a,d=r(134),i=document.querySelectorAll(".constructor__add-btn"),u=document.querySelectorAll(".constructor__delete-btn"),l=document.querySelector(".constructor__cards"),s=document.querySelector(".constructor__size"),m=document.querySelector(".constructor__button .btn");function p(){var t=document.querySelectorAll(".card__price-text"),r=document.querySelector(".constructor__total-price"),n=0;t.forEach((function(e){var t=+e.textContent.slice(1,e.textContent.length);n+=t})),r.textContent=(0,e.C)(n)}function _(e){var t=e.target,r=e.target.parentNode.nextElementSibling,n=t.parentNode.parentNode.children[0].children[0].textContent,c=t.parentNode.parentNode.children[1].children[0].textContent;t.parentNode.classList.remove("constructor__add_active"),r.classList.add("constructor__delete_active"),l.append(o(n,c)),p()}function v(e){var t=e.target,r=e.target.parentNode.previousElementSibling,n=document.querySelectorAll(".card__name"),c=t.parentNode.parentNode.children[0].children[0];Array.from(n).filter((function(e){return e.children[0].textContent===c.textContent}))[0].parentNode.parentNode.remove(),t.parentNode.classList.remove("constructor__delete_active"),r.classList.add("constructor__add_active"),p()}i.forEach((function(e){return e.addEventListener("click",_)})),u.forEach((function(e){return e.addEventListener("click",v)})),m.addEventListener("click",(function(){var e=(0,t.m3)("cart"),r=document.querySelectorAll(".card__name"),n=document.querySelector(".constructor__total-price"),o=n.textContent.slice(1,n.textContent.length);!e&&(e=[]);var a=c;a.price={large:o.toString(),medium:o.toString(),small:o.toString()},a.size=r[0].children[0].textContent;for(var i=1;i<r.length;i++)void 0!==r[i]&&null!==r[i]&&a.ingredients.push(r[i].children[0].textContent);e.push(a),(0,t.HC)("cart",e),(0,d.Z)()})),s.addEventListener("change",(function(e){var t=document.querySelector(".card"),r=t.children[0].children[0].children[0],c=t.children[0].children[1].children[0],o=e.target.value;r.textContent=o,c.textContent=n[o],p()})),a=s.value,l.append(o(a,n[a])),p()})()})();