(()=>{"use strict";const e={small:"€6.79",medium:"€7.89",large:"€8.99"},t={image:"https://i.imgur.com/2GTTsIW.png",ingredients:[],price:{large:null,medium:null,small:null},size:null,title:"PIZZA CONSTRUCTOR",type:"pizza",uid:1e4*Math.random()};function n(e,t){const n=document.createElement("li");return n.classList.add("card"),n.append(function(e,t){const n=document.createElement("div");return n.classList.add("card__wrapper"),n.append(function(e){const t=document.createElement("div");t.classList.add("card__name");const n=document.createElement("span");return n.textContent=e,t.append(n),t}(e),function(e,t){const n=document.createElement("div");n.classList.add("card__price");const r=document.createElement("span");return r.classList.add("card__price-text"),r.textContent=t,n.append(r),n}(0,t)),n}(e,t)),n}const r=document.querySelectorAll(".constructor__add-btn"),c=document.querySelectorAll(".constructor__delete-btn"),o=document.querySelector(".constructor__cards"),d=document.querySelector(".constructor__size"),a=document.querySelector(".constructor__button .btn");function l(){const e=document.querySelectorAll(".card__price-text"),t=document.querySelector(".constructor__total-price");let n=0;e.forEach((e=>{const t=+e.textContent.slice(1,e.textContent.length);n+=t})),t.textContent=function(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR"}).format(e)}(n)}function i(e){const t=e.target,r=e.target.parentNode.nextElementSibling,c=t.parentNode.parentNode.children[0].children[0].textContent,d=t.parentNode.parentNode.children[1].children[0].textContent;t.parentNode.classList.remove("constructor__add_active"),r.classList.add("constructor__delete_active"),o.append(n(c,d)),l()}function s(e){const t=e.target,n=e.target.parentNode.previousElementSibling,r=document.querySelectorAll(".card__name"),c=t.parentNode.parentNode.children[0].children[0];Array.from(r).filter((e=>e.children[0].textContent===c.textContent))[0].parentNode.parentNode.remove(),t.parentNode.classList.remove("constructor__delete_active"),n.classList.add("constructor__add_active"),l()}r.forEach((e=>e.addEventListener("click",i))),c.forEach((e=>e.addEventListener("click",s))),a.addEventListener("click",(function(){let e=("cart",JSON.parse(sessionStorage.getItem("cart")));const n=document.querySelectorAll(".card__name"),r=document.querySelector(".constructor__total-price"),c=r.textContent.slice(1,r.textContent.length);!e&&(e=[]);const o=t;o.price={large:c.toString(),medium:c.toString(),small:c.toString()},o.size=n[0].children[0].textContent;for(let e=1;e<n.length;e++)void 0!==n[e]&&null!==n[e]&&o.ingredients.push(n[e].children[0].textContent);var d;e.push(o),d=e,sessionStorage.setItem("cart",JSON.stringify(d))})),d.addEventListener("change",(function(t){const n=document.querySelector(".card"),r=n.children[0].children[0].children[0],c=n.children[0].children[1].children[0],o=t.target.value;r.textContent=o,c.textContent=e[o],l()})),function(){const t=d.value;o.append(n(t,e[t]))}(),l()})();